<!DOCTYPE html>
<html lang="bn">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Courses - AKF</title>

        <!-- SEO Meta Tags -->
        <meta name="description" content="Explore live and recorded courses on spiritual wisdom, meditation, yoga, and personal growth offered by AKF.">
        <meta name="keywords" content="live courses, recorded courses, spiritual education, vedanta, yoga, meditation">


        <!-- Dependencies -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
        <link rel="stylesheet" href="css/style.css">



    </head>

    <body class="">
        <!-- Consistent Header, same as other pages -->
        <main id="main-content">

            <!-- Custom CSS for Cart Page (Corrected & Enhanced) -->
            <style>
                /* Your provided theme variables */
                :root {
                    --color-primary-dark: #161618;
                    --color-secondary-dark: #1e1e1e;
                    --color-accent-gold: #D4AF37;
                    --color-text-light: #f0f0f0;
                    --color-text-medium: #a0a0a0;
                    --glass-bg: rgba(30, 30, 30, 0.7);
                    --glass-border: 1px solid rgba(255, 255, 255, 0.1);
                    --font-primary: 'Poppins', sans-serif;
                    --font-bengali: 'Hind Siliguri', sans-serif;
                    --soft-transition: all 0.3s ease-in-out;
                    --tag-red: #ff6868;
                    --tag-green: #4ade80;
                    --tag-blue: #4ab8de;
                }

                .cart-page-content {
                    padding-top: 100px;
                    background-color: var(--color-primary-dark);
                    color: var(--color-text-light);
                    font-family: var(--font-primary);
                }

                .section-card {
                    background: var(--glass-bg);
                    border: var(--glass-border);
                    border-radius: 16px;
                    padding: 1.5rem;
                    backdrop-filter: blur(12px);
                    margin-bottom: 1.5rem;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
                }

                .page-title {
                    font-weight: 700;
                    color: var(--color-text-light);
                }

                .page-subtitle {
                    color: var(--color-text-medium);
                }

                /* Cart Item Card */
                .cart-item-card {
                    transition: var(--soft-transition);
                    border-bottom: var(--glass-border);
                    padding-bottom: 1.5rem;
                    margin-bottom: 1.5rem;
                }

                .cart-item-card:last-child {
                    border-bottom: none;
                    margin-bottom: 0;
                    padding-bottom: 0;
                }

                .cart-item-image {
                    position: relative;
                    display: block;
                    width: 60px;
                    /* Reduced size for a more compact look */
                    height: 60px;
                    overflow: hidden;
                    /* Ensures image stays within bounds */
                    border-radius: 8px;
                    /* Consistent with theme's rounded corners */
                    border: 1px solid var(--glass-border);
                    /* Subtle border for definition */
                }

                .cart-item-image img {
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    /* Maintains aspect ratio, crops overflow */
                    display: block;
                    /* Removes any inline spacing */
                }

                .cart-item-image::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(to bottom, transparent, var(--color-primary-dark));
                    /* Gradient overlay for depth */
                    border-radius: 8px;
                    pointer-events: none;
                    /* Ensures clicks pass through */
                }

                .item-title {
                    font-size: 1.1rem;
                    font-weight: 600;
                    color: var(--color-text-light);
                    text-decoration: none;
                }

                .item-title:hover {
                    color: var(--color-accent-gold);
                }

                .item-category {
                    font-size: 0.8rem;
                    font-weight: 500;
                    padding: 4px 12px;
                    border-radius: 20px;
                    display: inline-block;
                }

                .item-category.shop {
                    background: var(--color-accent-gold);
                    color: var(--color-primary-dark);
                }

                .item-category.course {
                    background: var(--tag-green);
                    color: var(--color-primary-dark);
                }

                .item-category.ebook {
                    background: var(--tag-blue);
                    color: var(--color-primary-dark);
                }

                .item-price {
                    font-size: 1.2rem;
                    font-weight: 600;
                    color: var(--color-text-light);
                }

                .item-old-price {
                    text-decoration: line-through;
                    color: var(--color-text-medium);
                    font-size: 0.9rem;
                    margin-left: 8px;
                }

                .quantity-selector {
                    display: flex;
                    align-items: center;
                    background-color: var(--color-secondary-dark);
                    border: var(--glass-border);
                    border-radius: 8px;
                    max-width: 120px;
                }

                .quantity-btn {
                    background: none;
                    border: none;
                    color: var(--color-text-light);
                    width: 35px;
                    height: 35px;
                    transition: var(--soft-transition);
                }

                .quantity-btn:hover {
                    color: var(--color-accent-gold);
                }

                .quantity-input {
                    width: 100%;
                    text-align: center;
                    background: transparent;
                    border-left: var(--glass-border);
                    border-right: var(--glass-border);
                    color: var(--color-text-light);
                    height: 35px;
                }

                .btn-remove-item {
                    background: none;
                    border: none;
                    color: var(--color-text-medium);
                    font-size: 1.2rem;
                    transition: var(--soft-transition);
                }

                .btn-remove-item:hover {
                    color: var(--tag-red);
                }

                /* Order Summary Card */
                @media (min-width: 992px) {
                    .order-summary-card {
                        position: sticky;
                        top: 120px;
                    }
                }

                .summary-row {
                    display: flex;
                    justify-content: space-between;
                    margin-bottom: 1rem;
                    color: var(--color-text-medium);
                }

                .summary-row.total {
                    color: var(--color-text-light);
                    font-weight: 600;
                    font-size: 1.2rem;
                    border-top: var(--glass-border);
                    padding-top: 1rem;
                }

                .coupon-form .form-control {
                    background: var(--color-secondary-dark);
                    border: var(--glass-border);
                    color: var(--color-text-light);
                }

                .coupon-form .btn-apply {
                    background: var(--color-secondary-dark);
                    border: var(--glass-border);
                    color: var(--color-accent-gold);
                    transition: var(--soft-transition);
                }

                .coupon-form .btn-apply:hover {
                    background: var(--color-accent-gold);
                    color: var(--color-primary-dark);
                }

                .btn-checkout {
                    background-color: var(--color-accent-gold);
                    border: none;
                    color: var(--color-primary-dark);
                    font-weight: 700;
                    padding: 12px;
                    font-size: 1.1rem;
                    transition: var(--soft-transition);
                    animation: breathe 2.5s infinite ease-in-out;
                }

                @keyframes breathe {

                    0%,
                    100% {
                        transform: scale(1);
                        box-shadow: 0 5px 15px rgba(212, 175, 55, 0.2);
                    }

                    50% {
                        transform: scale(1.03);
                        box-shadow: 0 8px 25px rgba(212, 175, 55, 0.3);
                    }
                }

                .btn-checkout:hover {
                    background-color: #eab308;
                    animation-play-state: paused;
                }

                /* Recommended Items Slider */
                .recommended-swiper .swiper-slide {
                    height: auto;
                }

                .recommended-swiper .program-card {
                    height: 100%;
                    transition: var(--soft-transition);
                }

                .program-card-img {
                    position: relative;
                }

                .program-card-img img {
                    width: 100%;
                    height: 150px;
                    object-fit: cover;
                    border-radius: 8px;
                }

                /* Mobile Summary Bar & Offcanvas */
                .mobile-summary-bar {
                    background: var(--glass-bg);
                    backdrop-filter: blur(12px);
                    border-top: var(--glass-border);
                    z-index: 1000;
                }

                .offcanvas.offcanvas-bottom {
                    background-color: var(--color-secondary-dark);
                    border-top: var(--glass-border);
                    color: var(--color-text-light);
                    border-top-left-radius: 16px;
                    border-top-right-radius: 16px;
                }

                .offcanvas-header {
                    border-bottom: var(--glass-border);
                }

                .btn-close-white {
                    filter: invert(1);
                }

                /* Empty Cart State */
                .empty-cart img {
                    max-width: 150px;
                    opacity: 0.5;
                }

                /* Toast Notification */
                .toast-container {
                    z-index: 1056;
                }

                .toast {
                    background-color: var(--color-secondary-dark);
                    color: var(--color-text-light);
                    border: var(--glass-border);
                }

                .toast-header {
                    background-color: var(--glass-bg);
                    color: var(--color-text-light);
                    border-bottom: var(--glass-border);
                }

            </style>

            <div class="cart-page-content">
                <div class="container py-5">
                    <!-- 1. Header & Title -->
                    <div class="d-flex align-items-center mb-4" data-aos="fade-down">
                        <i class="bi bi-cart3 fs-1 text-accent-gold me-3" aria-hidden="true"></i>
                        <div>
                            <h1 class="page-title mb-0">Your Cart</h1>
                            <p class="page-subtitle mb-0" id="cart-item-count">You have 3 items in your cart</p>
                        </div>
                    </div>

                    <!-- Empty Cart State (Hidden by Default) -->
                    <div class="section-card empty-cart d-none text-center" id="empty-cart" data-aos="fade-up">
                        <img src="https://i.ibb.co/L8qsSc7/empty-cart-icon.png" alt="Empty Cart">
                        <h4 class="mt-3">Your Cart is Empty</h4>
                        <p class="text-medium">Looks like you haven't added anything to your cart yet.</p>
                        <a href="shop.html" class="btn btn-apply mt-2">Browse Products</a>
                    </div>

                    <div class="row g-lg-5">
                        <!-- Left Column: Product List -->
                        <div class="col-lg-8">
                            <div class="section-card" id="cart-items-container" data-aos="fade-up">

                                <!-- Cart Item 1: Physical Product -->
                                <div class="cart-item-card" data-price="89.99" data-id="1">
                                    <div class="row g-3">
                                        <div class="col-auto"><a href="#"><img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?q=80&w=2070" alt="Product" class="cart-item-image"></a>
                                        </div>
                                        <div class="col"><a href="#" class="item-title d-block">Athletic Runner Pro</a><span class="item-category shop">Shop</span>
                                            <div class="d-block d-md-none mt-2"><span class="item-price">$89.99</span></div>
                                        </div>
                                        <div class="col-12 col-md-auto ms-md-auto d-flex justify-content-between align-items-center">
                                            <div class="quantity-selector me-3"><button class="quantity-btn minus">-</button><input type="text" class="quantity-input" value="1" readonly><button
                                                    class="quantity-btn plus">+</button></div>
                                            <span class="item-price d-none d-md-block me-3">$89.99</span>
                                            <button class="btn-remove-item" title="Remove item"><i class="bi bi-trash"></i></button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Cart Item 2: Online Course -->
                                <div class="cart-item-card" data-price="49.00" data-id="2">
                                    <div class="row g-3">
                                        <div class="col-auto"><a href="#"><img src="https://images.unsplash.com/photo-1593353427831-2529d3339ce9?q=80&w=2070" alt="Course" class="cart-item-image"></a>
                                        </div>
                                        <div class="col"><a href="#" class="item-title d-block">Foundations of Vedanta</a><span class="item-category course">Course</span>
                                            <div class="d-block d-md-none mt-2"><span class="item-price">$49.00</span></div>
                                        </div>
                                        <div class="col-12 col-md-auto ms-md-auto d-flex justify-content-between align-items-center"><span class="text-medium me-3">Qty: 1</span><span
                                                class="item-price d-none d-md-block me-3">$49.00</span><button class="btn-remove-item" title="Remove item"><i class="bi bi-trash"></i></button></div>
                                    </div>
                                </div>

                                <!-- Cart Item 3: Ebook with Discount -->
                                <div class="cart-item-card" data-price="19.99" data-id="3">
                                    <div class="row g-3">
                                        <div class="col-auto"><a href="#"><img src="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80&w=1974" alt="Ebook" class="cart-item-image"></a>
                                        </div>
                                        <div class="col"><a href="#" class="item-title d-block">Research Basics for Beginners</a><span class="item-category ebook">Ebook</span>
                                            <div class="d-block d-md-none mt-2"><span class="item-price">$19.99</span> <span class="item-old-price">$25.00</span></div>
                                        </div>
                                        <div class="col-12 col-md-auto ms-md-auto d-flex justify-content-between align-items-center"><span class="text-medium me-3">Qty: 1</span>
                                            <div class="text-end me-3"><span class="item-price d-none d-md-block">$19.99</span><span class="item-old-price d-none d-md-block">$25.00</span></div><button
                                                class="btn-remove-item" title="Remove item"><i class="bi bi-trash"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column: Cart Summary (Visible on Desktop) -->
                        <div class="col-lg-4">
                            <div class="section-card order-summary-card d-none d-lg-block" data-aos="fade-up" data-aos-delay="100">
                                <h4 class="mb-4">Order Summary</h4>
                                <div class="summary-row"><span>Subtotal</span><span id="summary-subtotal">$158.98</span></div>
                                <div class="summary-row d-none" id="discount-row" data-discount="0"><span>Discount</span><span id="summary-discount">-$0.00</span></div>
                                <hr style="border-color: var(--glass-border);">
                                <div class="summary-row total"><span>Total</span><span id="summary-total">$158.98</span></div>
                                <form id="coupon-form" class="mt-4">
                                    <div class="input-group"><input type="text" class="form-control" id="coupon-code" placeholder="Coupon Code"><button class="btn btn-apply"
                                            type="submit">Apply</button></div>
                                    <small id="coupon-message" class="d-block mt-2"></small>
                                </form>
                                <button class="btn btn-checkout w-100 mt-4">Proceed to Checkout</button>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Recommended Items Section -->
                    <section class="recommended-items mt-5" data-aos="fade-up">
                        <h3 class="mb-4">You May Also Like</h3>
                        <div class="swiper recommended-swiper">
                            <div class="swiper-wrapper">
                                <!-- Add program cards here -->
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Mobile Summary Bar (Visible on Mobile) -->
                <div class="mobile-summary-bar d-lg-none fixed-bottom">
                    <div><span class="text-medium">Total:</span> <span class="fs-5 fw-bold" id="mobile-summary-total">$158.98</span></div>
                    <button class="btn btn-checkout btn-sm" data-bs-toggle="offcanvas" data-bs-target="#summaryOffcanvas">Checkout</button>
                </div>

                <!-- Offcanvas for Mobile Summary -->
                <div class="offcanvas offcanvas-bottom" tabindex="-1" id="summaryOffcanvas">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title">Order Summary</h5><button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div class="section-card border-0 p-0 bg-transparent">
                            <div class="summary-row"><span>Subtotal</span><span id="offcanvas-subtotal">$158.98</span></div>
                            <div class="summary-row d-none" id="offcanvas-discount-row" data-discount="0"><span>Discount</span><span id="offcanvas-discount">-$0.00</span></div>
                            <hr style="border-color: var(--glass-border);">
                            <div class="summary-row total"><span>Total</span><span id="offcanvas-total">$158.98</span></div>
                            <form id="offcanvas-coupon-form" class="mt-4">
                                <div class="input-group"><input type="text" class="form-control" id="offcanvas-coupon-code" placeholder="Coupon Code"><button class="btn btn-apply"
                                        type="submit">Apply</button></div><small id="offcanvas-coupon-message" class="d-block mt-2"></small>
                            </form>
                            <button class="btn btn-checkout w-100 mt-4">Proceed to Checkout</button>
                        </div>
                    </div>
                </div>

                <!-- Toast Container for Notifications -->
                <div class="toast-container position-fixed bottom-0 end-0 p-3">
                    <div class="toast" id="action-toast" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="toast-header"><strong class="me-auto">Cart Update</strong><button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button></div>
                        <div class="toast-body"></div>
                    </div>
                </div>
            </div>
        </main>


        <!-- ðŸ“± Mobile Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="index.html" class="bottom-nav__item "><i class="bi bi-house-door-fill"></i><span>Home</span></a>
            <a href="events.html" class="bottom-nav__item"><i class="bi bi-calendar-event-fill"></i><span>Events</span></a>
            <a href="course.html" class="bottom-nav__item active"><i class="bi bi-journal-bookmark-fill"></i><span>Courses</span></a>
            <a href="shop.html" class="bottom-nav__item "><i class="bi bi-cart-fill"></i><span>Shop</span></a>
            <a href="#blog" class="bottom-nav__item"><i class="bi bi-chat-square-text-fill"></i><span>Blog</span></a>
            <a href="#donate" class="bottom-nav__item"><i class="bi bi-heart-fill"></i><span>Donate</span></a>
        </nav>

        <!-- Footer -->
        <!-- ============================================= -->
        <!-- Footer Section                                -->
        <!-- ============================================= -->
        <footer id="footer" class="site-footer">
            <div class="container">
                <div class="footer-grid">
                    <!-- Column 1: Brand & Tagline -->
                    <div class="footer-column">
                        <h3 class="footer-brand">AKF</h3>
                        <p class="footer-tagline">A sanctuary for peace, wisdom, and connection in the digital age.</p>
                    </div>

                    <!-- Column 2: Quick Links -->
                    <div class="footer-column">
                        <h5 class="footer-heading">Quick Links</h5>
                        <ul class="footer-links">
                            <li><a href="#hero">Home</a></li>
                            <li><a href="#introduction">About Us</a></li>
                            <li><a href="#courses">Courses</a></li>
                            <li><a href="#blog">Blog</a></li>
                        </ul>
                    </div>

                    <!-- Column 3: Support -->
                    <div class="footer-column">
                        <h5 class="footer-heading">Support</h5>
                        <ul class="footer-links">
                            <li><a href="#">Contact Us</a></li>
                            <li><a href="#">FAQ</a></li>
                            <li><a href="#donate">Donate</a></li>
                            <li><a href="#">Community Guidelines</a></li>
                        </ul>
                    </div>

                    <!-- Column 4: Follow Us -->
                    <div class="footer-column">
                        <h5 class="footer-heading">Follow Us</h5>
                        <div class="social-icons">
                            <a href="#" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                            <a href="#" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                            <a href="#" aria-label="Twitter"><i class="bi bi-twitter-x"></i></a>
                            <a href="#" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
                        </div>
                    </div>
                </div>

                <div class="footer-bottom">
                    <p>Â© 2024 AKF. All Rights Reserved.</p>
                    <div class="footer-legal-links">
                        <a href="#">Privacy Policy</a>
                        <span>â€¢</span>
                        <a href="#">Terms of Service Sammo</a>
                    </div>
                </div>
            </div>
        </footer>



        <!-- Scripts -->
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <!-- AOS.js for Scroll Animations -->

        <!-- Swiper.js JS -->
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <script src="js/script.js"></script>

        <script>
            $(document).ready(function () {
                // Initialize AOS
                AOS.init({
                    duration: 800,
                    once: true,
                    offset: 50,
                    easing: 'ease-in-out',
                });

                // Initialize Tooltips
                $('[data-toggle="tooltip"]').tooltip();

                // Function to update totals
                function updateTotals() {
                    let subtotal = 0;
                    $('#cart-items-container .cart-item-card').each(function () {
                        let price = parseFloat($(this).data('price'));
                        let quantity = parseInt($(this).find('.quantity-input').val()) || 1;
                        subtotal += price * quantity;
                    });

                    const discountPercentage = $('#discount-row').data('discount') || 0;
                    const discountAmount = subtotal * (discountPercentage / 100);
                    const total = subtotal - discountAmount;

                    $('#summary-subtotal, #offcanvas-subtotal').text(`$${subtotal.toFixed(2)}`);
                    $('#summary-discount, #offcanvas-discount').text(`-$${discountAmount.toFixed(2)}`);
                    $('#summary-total, #offcanvas-total, #mobile-summary-total').text(`$${total.toFixed(2)}`);

                    if (discountAmount > 0) {
                        $('#discount-row, #offcanvas-discount-row').removeClass('d-none');
                    } else {
                        $('#discount-row, #offcanvas-discount-row').addClass('d-none');
                    }

                    // Update free shipping progress
                    const freeShippingThreshold = 200;
                    const progressPercent = Math.min((subtotal / freeShippingThreshold) * 100, 100);
                    $('.progress-bar').css('width', `${progressPercent}%`).attr('aria-valuenow', progressPercent);
                }

                // Function to update cart item count
                function updateCartCount() {
                    const itemCount = $('#cart-items-container .cart-item-card').length;
                    $('#cart-item-count').text(`You have ${itemCount} item${itemCount !== 1 ? 's' : ''} in your cart`);
                    if (itemCount === 0) {
                        $('#cart-items-container').hide();
                        $('#empty-cart').removeClass('d-none');
                    } else {
                        $('#cart-items-container').show();
                        $('#empty-cart').addClass('d-none');
                    }
                }

                // Initial calculations
                updateTotals();
                updateCartCount();

                // Quantity buttons with keyboard support
                $('#cart-items-container').on('click', '.quantity-btn', function () {
                    const $button = $(this);
                    const $input = $button.siblings('.quantity-input');
                    let currentVal = parseInt($input.val());

                    if ($button.hasClass('plus')) {
                        $input.val(currentVal + 1);
                    } else if ($button.hasClass('minus') && currentVal > 1) {
                        $input.val(currentVal - 1);
                    }
                    updateTotals();
                });

                $('#cart-items-container').on('keydown', '.quantity-input', function (e) {
                    if (e.key === 'ArrowUp') {
                        $(this).val(parseInt($(this).val()) + 1);
                        updateTotals();
                    } else if (e.key === 'ArrowDown' && parseInt($(this).val()) > 1) {
                        $(this).val(parseInt($(this).val()) - 1);
                        updateTotals();
                    }
                });

                // Remove item with undo toast
                let removedItem = null;
                $('#cart-items-container').on('click', '.btn-remove-item', function () {
                    const $card = $(this).closest('.cart-item-card');
                    removedItem = $card.clone();
                    $card.fadeOut(400, function () {
                        $(this).remove();
                        updateTotals();
                        updateCartCount();
                        const toast = new bootstrap.Toast($('#remove-toast'));
                        toast.show();
                    });
                });

                // Undo remove
                $('.undo-remove').on('click', function (e) {
                    e.preventDefault();
                    if (removedItem) {
                        $('#cart-items-container').append(removedItem);
                        removedItem.fadeIn(400);
                        removedItem = null;
                        updateTotals();
                        updateCartCount();
                        $('#remove-toast').toast('hide');
                    }
                });

                // Coupon form (desktop and offcanvas)
                const handleCoupon = function (e, $form, $message, $discountRow) {
                    e.preventDefault();
                    const couponCode = $form.find('input').val().toUpperCase();
                    const validCoupons = {
                        'AKF10': 10,
                        'SAVE20': 20
                    };

                    if (validCoupons[couponCode]) {
                        $discountRow.data('discount', validCoupons[couponCode]);
                        $message.text(`Coupon "${couponCode}" applied!`).css('color', 'var(--tag-green)');
                    } else {
                        $discountRow.data('discount', 0);
                        $message.text('Invalid coupon code.').css('color', 'var(--tag-red)');
                    }
                    updateTotals();
                };

                $('#coupon-form').on('submit', function (e) {
                    handleCoupon(e, $(this), $('#coupon-message'), $('#discount-row'));
                });

                $('#offcanvas-coupon-form').on('submit', function (e) {
                    handleCoupon(e, $(this), $('#offcanvas-coupon-message'), $('#offcanvas-discount-row'));
                });

                // Add to cart from recommended items
                $('.add-to-cart').on('click', function () {
                    const $btn = $(this);
                    const price = $btn.data('price');
                    const id = $btn.data('id');
                    const title = $btn.data('title');
                    const type = $btn.data('type');

                    const newItem = `
                <div class="cart-item-card" data-price="${price}" data-id="${id}">
                    <div class="row g-3">
                        <div class="col-auto">
                            <a href="#"><img src="https://images.unsplash.com/photo-1589825232437-04a4b2a275ce?q=80&w=2070" alt="${title}" class="cart-item-image"></a>
                        </div>
                        <div class="col">
                            <a href="#" class="item-title d-block">${title}</a>
                            <span class="item-category ${type}">${type.charAt(0).toUpperCase() + type.slice(1)}</span>
                            <div class="d-block d-md-none mt-2">
                                <span class="item-price">$${price.toFixed(2)}</span>
                            </div>
                        </div>
                        <div class="col-12 col-md-auto ms-md-auto d-flex justify-content-between align-items-center">
                            <span class="text-medium me-3">Qty: 1</span>
                            <span class="item-price d-none d-md-block me-3">$${price.toFixed(2)}</span>
                            <button class="btn-remove-item" aria-label="Remove item"><i class="bi bi-trash"></i></button>
                        </div>
                    </div>
                </div>
            `;
                    $('#cart-items-container').append(newItem);
                    updateTotals();
                    updateCartCount();
                    const toast = new bootstrap.Toast($('#remove-toast'));
                    $('#remove-toast .toast-body').text('Item added to cart!');
                    toast.show();
                });

                // Initialize Swiper
                if (typeof Swiper !== 'undefined') {
                    const recommendedSwiper = new Swiper('.recommended-swiper', {
                        slidesPerView: 1.5,
                        spaceBetween: 15,
                        loop: true,
                        autoplay: {
                            delay: 4000,
                            disableOnInteraction: false,
                            pauseOnMouseEnter: true,
                        },
                        breakpoints: {
                            576: {
                                slidesPerView: 2,
                                spaceBetween: 20
                            },
                            768: {
                                slidesPerView: 3,
                                spaceBetween: 25
                            },
                            992: {
                                slidesPerView: 4,
                                spaceBetween: 30
                            },
                        },
                    });
                }
            });

        </script>

    </body>
